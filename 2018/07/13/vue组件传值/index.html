<!DOCTYPE html><html><head><meta charset=UTF-8><meta name=viewport content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"><meta http-equiv=X-UA-Compatible content="ie=edge"><meta name=author content=jianjian><title>Vue组件传值 | imjianjian</title><link rel=icon href=/favicon.ico><link rel=stylesheet href=/css/style.css><script src=/js/script.js></script><script src=/js/tocbot.min.js></script></head><body><div class=wrapper><header><nav class=navbar><div class=container><div class="navbar-header header-logo"><a href="/">imjianjian&#39;s Blog</a></div><div class="menu navbar-right"><a class=menu-item href=/archives>Posts</a> <a class=menu-item href=/tags>Tags</a> <input id=switch_default type=checkbox class=switch_default><label for=switch_default class=toggleBtn></label></div></div></nav><nav class=navbar-mobile id=nav-mobile><div class=container><div class=navbar-header><div><a href="/">imjianjian&#39;s Blog</a><a id=mobile-toggle-theme>·&nbsp;Light</a></div><div class=menu-toggle onclick=mobileBtn()>&#9776; Menu</div></div><div class=menu id=mobile-menu><a class=menu-item href=/archives>Posts</a> <a class=menu-item href=/tags>Tags</a></div></div></nav></header><script>
    var mobileBtn = function f() {
        var toggleMenu = document.getElementsByClassName("menu-toggle")[0];
        var mobileMenu = document.getElementById("mobile-menu");
        if(toggleMenu.classList.contains("active")){
           toggleMenu.classList.remove("active")
            mobileMenu.classList.remove("active")
        }else{
            toggleMenu.classList.add("active")
            mobileMenu.classList.add("active")
        }
    }
</script><div class=main><div class=container><div class=post-toc><div class=tocbot-list></div><div class=tocbot-list-menu><a class=tocbot-toc-expand onclick=expand_toc()>Expand all</a> <a onclick=go_top()>Back to top</a> <a onclick=go_bottom()>Go to bottom</a></div></div><script>
    document.ready(
        function () {
            tocbot.init({
                tocSelector: '.tocbot-list',
                contentSelector: '.post-content',
                headingSelector: 'h1, h2, h3, h4, h5',
                collapseDepth: 1,
                orderedList: false,
                scrollSmooth: true,
            })
        }
    )

    function expand_toc() {
        var b = document.querySelector(".tocbot-toc-expand");
        tocbot.init({
            tocSelector: '.tocbot-list',
            contentSelector: '.post-content',
            headingSelector: 'h1, h2, h3, h4, h5',
            collapseDepth: 6,
            orderedList: false,
            scrollSmooth: true,
        });
        b.setAttribute("onclick", "collapse_toc()");
        b.innerHTML = "Collapse all"
    }

    function collapse_toc() {
        var b = document.querySelector(".tocbot-toc-expand");
        tocbot.init({
            tocSelector: '.tocbot-list',
            contentSelector: '.post-content',
            headingSelector: 'h1, h2, h3, h4, h5',
            collapseDepth: 1,
            orderedList: false,
            scrollSmooth: true,
        });
        b.setAttribute("onclick", "expand_toc()");
        b.innerHTML = "Expand all"
    }

    function go_top() {
        window.scrollTo(0, 0);
    }

    function go_bottom() {
        window.scrollTo(0, document.body.scrollHeight);
    }

</script><article class=post-wrap><header class=post-header><h1 class=post-title>Vue组件传值</h1><div class=post-meta>Author: <a itemprop=author rel=author href="/">jianjian</a> <span class=post-time>Date: <a href=#>July 13, 2018&nbsp;&nbsp;14:26:00</a></span></div></header><div class=post-content><h1 id=父组件向子组件传值><a href=#父组件向子组件传值 class=headerlink title=父组件向子组件传值></a>父组件向子组件传值</h1><p>父组件向子组件传值的方式通常是通过子组件定义的props来完成的。子组件定义props作为传入的数据，父组件应用子组件时绑定props，就能够动态地改变props的值，实现实时传值。</p><blockquote><p>Son.vue</p></blockquote><figure class="highlight plain"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br></pre></td><td class=code><pre><span class=line>&lt;template&gt;</span><br><span class=line>  &lt;div&gt;</span><br><span class=line>    &lt;span&gt;&#123;&#123;msg&#125;&#125;&lt;/span&gt;</span><br><span class=line>  &lt;/div&gt;</span><br><span class=line>&lt;/template&gt;</span><br><span class=line>&lt;script&gt;</span><br><span class=line>export default &#123;</span><br><span class=line>  name: &apos;Son&apos;,</span><br><span class=line>  props: &#123;</span><br><span class=line>    msg: String   //定义了props及其类型</span><br><span class=line>  &#125;</span><br><span class=line>&#125;</span><br><span class=line>&lt;/script&gt;</span><br></pre></td></tr></table></figure><blockquote><p>Father.vue</p></blockquote><figure class="highlight plain"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br></pre></td><td class=code><pre><span class=line>&lt;template&gt;</span><br><span class=line>  &lt;div&gt;</span><br><span class=line>      &lt;Son :msg=&quot;myMsg&quot;&gt;&lt;/Son&gt;</span><br><span class=line>      &lt;input type=&quot;text&quot; v-model=&quot;myMsg&quot;&gt;</span><br><span class=line>  &lt;/div&gt;</span><br><span class=line>&lt;/template&gt;</span><br><span class=line>&lt;script&gt;</span><br><span class=line>import Son from &apos;./Son.vue&apos;</span><br><span class=line>export default &#123;</span><br><span class=line>  components: &#123;</span><br><span class=line>    Son</span><br><span class=line>  &#125;,</span><br><span class=line>  data () &#123;</span><br><span class=line>    return &#123;</span><br><span class=line>      myMsg: &apos;Welcome to Your Vue.js App&apos;</span><br><span class=line>    &#125;</span><br><span class=line>  &#125;</span><br><span class=line>&#125;</span><br><span class=line>&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>Son组件定义了props（msg）且类型为String，Father组件引用了Son组件，并传入Mymsg作为props值。Father组件还用Input组件绑定了myMsg，这样在Input中输入时，Son组件也会发生更新。</p><h1 id=子组件向父组件传值><a href=#子组件向父组件传值 class=headerlink title=子组件向父组件传值></a>子组件向父组件传值</h1><p>子组件向父组件传值一般通过$emit事件，出发$emit事件，会将参数一同传到监听器的回调。一般有子组件出发$emit事件并传值，由父组件监听。一个$emit事件对应使用一个时间名。</p><blockquote><p>Son.vue</p></blockquote><figure class="highlight plain"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br></pre></td><td class=code><pre><span class=line>&lt;template&gt;</span><br><span class=line>  &lt;div&gt;</span><br><span class=line>    &lt;span&gt;&#123;&#123;msg&#125;&#125;&lt;/span&gt;</span><br><span class=line>    &lt;button @click=&apos;sendtoFather&apos;&gt;clear&lt;/button&gt;</span><br><span class=line>  &lt;/div&gt;</span><br><span class=line>&lt;/template&gt;</span><br><span class=line>&lt;script&gt;</span><br><span class=line>export default &#123;</span><br><span class=line>  name: &apos;Son&apos;,</span><br><span class=line>  data () &#123;</span><br><span class=line>    return &#123;&#125;</span><br><span class=line>  &#125;,</span><br><span class=line>  props: &#123;</span><br><span class=line>    msg: String</span><br><span class=line>  &#125;,</span><br><span class=line>  methods: &#123;</span><br><span class=line>    sendtoFather: function () &#123;</span><br><span class=line>      this.$emit(&apos;clear&apos;)</span><br><span class=line>    &#125;</span><br><span class=line>  &#125;</span><br><span class=line>&#125;</span><br><span class=line>&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>在子组件代码中加入向父组件发送消息的事件</p><figure class="highlight plain"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre></td><td class=code><pre><span class=line>&lt;button @click=&apos;sendtoFather&apos;&gt;clear&lt;/button&gt;</span><br></pre></td></tr></table></figure><p>该事件见用于清空父组件的myMsg值</p><p>父组件也对应添加了事件监听，<strong>@clear=’clear’</strong>。</p><blockquote><p>Father.vue</p></blockquote><figure class="highlight plain"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br></pre></td><td class=code><pre><span class=line>&lt;template&gt;</span><br><span class=line>  &lt;div&gt;</span><br><span class=line>      &lt;Son :msg=&quot;myMsg&quot; @clear=&apos;clear&apos;&gt;&lt;/Son&gt;</span><br><span class=line>      &lt;input type=&quot;text&quot; v-model=&quot;myMsg&quot;&gt;</span><br><span class=line>  &lt;/div&gt;</span><br><span class=line>&lt;/template&gt;</span><br><span class=line>&lt;script&gt;</span><br><span class=line>import Son from &apos;./Son.vue&apos;</span><br><span class=line>export default &#123;</span><br><span class=line>  components: &#123;</span><br><span class=line>    Son</span><br><span class=line>  &#125;,</span><br><span class=line>  data () &#123;</span><br><span class=line>    return &#123;</span><br><span class=line>      myMsg: &apos;Welcome to Your Vue.js App&apos;</span><br><span class=line>    &#125;</span><br><span class=line>  &#125;,</span><br><span class=line>  methods: &#123;</span><br><span class=line>    clear: function () &#123;</span><br><span class=line>      this.myMsg = &apos;&apos;</span><br><span class=line>    &#125;</span><br><span class=line>  &#125;</span><br><span class=line>&#125;</span><br><span class=line>&lt;/script&gt;</span><br></pre></td></tr></table></figure><h1 id=兄弟组件传值><a href=#兄弟组件传值 class=headerlink title=兄弟组件传值></a>兄弟组件传值</h1><p>兄弟组件传值可以通过共同的父组件作为桥梁来实现，子组件A通过$emit事件将值传到父组件，父组件再通过Props来把值传给子组件B，具体的实现过程参照前面的方法。</p></div><section class=post-copyright><p class=copyright-item><span>Author:</span> <span>jianjian</span></p><p class=copyright-item><span>Permalink:</span> <span><a href="http://yoursite.com/2018/07/13/vue%E7%BB%84%E4%BB%B6%E4%BC%A0%E5%80%BC/">http://yoursite.com/2018/07/13/vue%E7%BB%84%E4%BB%B6%E4%BC%A0%E5%80%BC/</a></span></p><p class=copyright-item><span>License:</span> <span>Copyright (c) 2019 <a href="http://creativecommons.org/licenses/by-nc/4.0/" target=_blank rel=noopener>CC-BY-NC-4.0</a> LICENSE</span></p><p class=copyright-item><span>Slogan:</span> <span>Do you believe in <strong>DESTINY<strong>?</strong></strong></span></p></section><section class=post-tags><div><span>Tag(s):</span> <span class=tag><a href="/tags/Vue/"># Vue</a></span></div><div><a href=javascript:window.history.back(); target=_blank rel=noopener>back</a> <span>·</span> <a href="/">home</a></div></section><section class=post-nav><a class=prev rel=prev href="/2018/08/03/base-shell-%E8%AF%AD%E6%B3%95%E7%AC%94%E8%AE%B0/">base shell 语法笔记</a> <a class=next rel=next href="/2018/07/11/flexbox-%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/">Flexbox 快速上手</a></section></article></div></div><footer id=footer class=footer><div class=copyright><span>© jianjian | Powered by <a href=https://hexo.io target=_blank>Hexo</a> & <a href=https://github.com/Siricee/hexo-theme-Chic target=_blank>Chic</a></span></div></footer></div></body></html>