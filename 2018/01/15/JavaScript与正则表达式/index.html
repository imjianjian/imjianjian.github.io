<!DOCTYPE html>
<html lang="">
<head>
    <meta charset="UTF-8">
<meta name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">

    <meta name="author" content="jianjian">





<title>JavaScript与正则表达式 | imjianjian</title>



    <link rel="icon" href="/favicon.ico">




    <!-- stylesheets list from _config.yml -->
    
    <link rel="stylesheet" href="/css/style.css">
    



    <!-- scripts list from _config.yml -->
    
    <script src="/js/script.js"></script>
    
    <script src="/js/tocbot.min.js"></script>
    



    
    
        
    


</head>
<body>
    <div class="wrapper">
        <header>
    <nav class="navbar">
        <div class="container">
            <div class="navbar-header header-logo"><a href="/">imjianjian&#39;s Blog</a></div>
            <div class="menu navbar-right">
                
                    <a class="menu-item" href="/archives">Posts</a>
                
                    <a class="menu-item" href="/tags">Tags</a>
                
                <input id="switch_default" type="checkbox" class="switch_default">
                <label for="switch_default" class="toggleBtn"></label>
            </div>

        </div>
    </nav>

    
    <nav class="navbar-mobile" id="nav-mobile">
        <div class="container">
            <div class="navbar-header">
                <div>
                    <a href="/">imjianjian&#39;s Blog</a><a id="mobile-toggle-theme">·&nbsp;Light</a>
                </div>
                <div class="menu-toggle" onclick="mobileBtn()">&#9776; Menu</div>
            </div>
            <div class="menu" id="mobile-menu">
                
                    <a class="menu-item" href="/archives">Posts</a>
                
                    <a class="menu-item" href="/tags">Tags</a>
                
            </div>
        </div>
    </nav>

</header>
<script>
    var mobileBtn = function f() {
        var toggleMenu = document.getElementsByClassName("menu-toggle")[0];
        var mobileMenu = document.getElementById("mobile-menu");
        if(toggleMenu.classList.contains("active")){
           toggleMenu.classList.remove("active")
            mobileMenu.classList.remove("active")
        }else{
            toggleMenu.classList.add("active")
            mobileMenu.classList.add("active")
        }
    }
</script>
        <div class="main">
            <div class="container">
    
    
        <div class="post-toc">
    <div class="tocbot-list">
    </div>
    <div class="tocbot-list-menu">
        <a class="tocbot-toc-expand" onclick="expand_toc()">Expand all</a>
        <a onclick="go_top()">Back to top</a>
        <a onclick="go_bottom()">Go to bottom</a>
    </div>
</div>

<script>
    document.ready(
        function () {
            tocbot.init({
                tocSelector: '.tocbot-list',
                contentSelector: '.post-content',
                headingSelector: 'h1, h2, h3, h4, h5',
                collapseDepth: 1,
                orderedList: false,
                scrollSmooth: true,
            })
        }
    )

    function expand_toc() {
        var b = document.querySelector(".tocbot-toc-expand");
        tocbot.init({
            tocSelector: '.tocbot-list',
            contentSelector: '.post-content',
            headingSelector: 'h1, h2, h3, h4, h5',
            collapseDepth: 6,
            orderedList: false,
            scrollSmooth: true,
        });
        b.setAttribute("onclick", "collapse_toc()");
        b.innerHTML = "Collapse all"
    }

    function collapse_toc() {
        var b = document.querySelector(".tocbot-toc-expand");
        tocbot.init({
            tocSelector: '.tocbot-list',
            contentSelector: '.post-content',
            headingSelector: 'h1, h2, h3, h4, h5',
            collapseDepth: 1,
            orderedList: false,
            scrollSmooth: true,
        });
        b.setAttribute("onclick", "expand_toc()");
        b.innerHTML = "Expand all"
    }

    function go_top() {
        window.scrollTo(0, 0);
    }

    function go_bottom() {
        window.scrollTo(0, document.body.scrollHeight);
    }

</script>
    

    
    <article class="post-wrap">
        <header class="post-header">
            <h1 class="post-title">JavaScript与正则表达式</h1>
            
                <div class="post-meta">
                    
                        Author: <a itemprop="author" rel="author" href="/">jianjian</a>
                    

                    
                        <span class="post-time">
                        Date: <a href="#">January 15, 2018&nbsp;&nbsp;18:58:24</a>
                        </span>
                    
                    
                </div>
            
        </header>

        <div class="post-content">
            <h1 id="正则表达式基础"><a href="#正则表达式基础" class="headerlink" title="正则表达式基础"></a>正则表达式基础</h1><h2 id="元字符"><a href="#元字符" class="headerlink" title="元字符"></a>元字符</h2><p>正则表达式中有两种字符：</p>
<p>1.元字符.表达式中的特殊字符</p>
<table>
<thead>
<tr>
<th>字符</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>\t</td>
<td>水平制表符</td>
</tr>
<tr>
<td>\v</td>
<td>垂直制表符</td>
</tr>
<tr>
<td>\n</td>
<td>换行符</td>
</tr>
<tr>
<td>\r</td>
<td>回车符</td>
</tr>
<tr>
<td>\0</td>
<td>空字符</td>
</tr>
<tr>
<td>\f</td>
<td>换页符</td>
</tr>
<tr>
<td>\cX</td>
<td>与X对应的控制字符符（Ctrl+X）</td>
</tr>
<tr>
<td>。。。</td>
<td>。。。</td>
</tr>
</tbody></table>
<p>2.原意文本字符.普通字符，代表原本的意思</p>
<h2 id="字符类"><a href="#字符类" class="headerlink" title="字符类"></a>字符类</h2><ul>
<li>正则表达式中的字符与待校验字符串中的字符一一对应。</li>
<li>可以用 [ ] 将一些字符归为一类</li>
<li>也可以使用^取反，例如[^abc]</li>
</ul>
<h2 id="范围类"><a href="#范围类" class="headerlink" title="范围类"></a>范围类</h2><p>如果在字符类中要将每一种情况都列入晓得太麻烦，对于数字和字母可以使用范围类简写，例如：</p>
<ul>
<li>[0-9]</li>
<li>[a-z]</li>
<li>[a-zA-Z]</li>
</ul>
<h2 id="预定义类"><a href="#预定义类" class="headerlink" title="预定义类"></a>预定义类</h2><p>正则表达式还提供了一些预定义类，来对复杂范围类进行概括</p>
<table>
<thead>
<tr>
<th>字符</th>
<th>等价</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>.</td>
<td>[^\r\n]</td>
<td>除了回车和换行符外的所有字符</td>
</tr>
<tr>
<td>\d</td>
<td>[0-9]</td>
<td>数字字符</td>
</tr>
<tr>
<td>\D</td>
<td>[^0-9]</td>
<td>非数字字符</td>
</tr>
<tr>
<td>\s</td>
<td>[\t\n\x0B\f\r]</td>
<td>空白符</td>
</tr>
<tr>
<td>\S</td>
<td>[^\t\n\x0B\f\r]</td>
<td>非空白符</td>
</tr>
<tr>
<td>\w</td>
<td>[a-zA-Z_0-9]</td>
<td>单词字符（数字，字母，下划线）</td>
</tr>
<tr>
<td>\W</td>
<td>[^a-zA-Z_0-9]</td>
<td>非单词字符</td>
</tr>
</tbody></table>
<h2 id="字符边界"><a href="#字符边界" class="headerlink" title="字符边界"></a>字符边界</h2><table>
<thead>
<tr>
<th>字符</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>^</td>
<td>以xxx开始</td>
</tr>
<tr>
<td>$</td>
<td>以xxx结束</td>
</tr>
<tr>
<td>\b</td>
<td>单词边界</td>
</tr>
<tr>
<td>\B</td>
<td>非单词边界</td>
</tr>
<tr>
<td>## 量词</td>
<td></td>
</tr>
<tr>
<td>量词变数所匹配的字符串重复次数</td>
<td></td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>字符</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>？</td>
<td>出现零次或一次（最多一次）</td>
</tr>
<tr>
<td>+</td>
<td>出现一次或多次（至少一次）</td>
</tr>
<tr>
<td>*</td>
<td>出现零次或多次（任意次）</td>
</tr>
<tr>
<td>{n}</td>
<td>出现n次</td>
</tr>
<tr>
<td>{n,m}</td>
<td>出现n到m次</td>
</tr>
<tr>
<td>{n,}</td>
<td>至少出现n次</td>
</tr>
<tr>
<td>## 贪婪模式与非贪婪模式</td>
<td></td>
</tr>
<tr>
<td>### 贪婪模式</td>
<td></td>
</tr>
<tr>
<td><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\d&#123;3,6&#125; //尽可能多匹配,但最多为6次</span><br></pre></td></tr></table></figure></td>
<td></td>
</tr>
<tr>
<td>### 贪婪模式</td>
<td></td>
</tr>
<tr>
<td><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\d&#123;3,6&#125;? //尽可能少匹配，但至少为3次</span><br></pre></td></tr></table></figure></td>
<td></td>
</tr>
<tr>
<td>## 分组</td>
<td></td>
</tr>
<tr>
<td>使用“()”将匹配规则划分成几个组</td>
<td></td>
</tr>
<tr>
<td><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">//&quot;yes&quot;连续出现3次</span><br><span class="line">(yes)&#123;3&#125;</span><br><span class="line"></span><br><span class="line">//或：|，可以匹配yes or no或yes and no</span><br><span class="line">yes\b(or|and)\bno</span><br><span class="line"></span><br><span class="line">//反向应用</span><br><span class="line">&apos;2017-11-1&apos;.replace(/(\d&#123;4&#125;)-(\d&#123;2&#125;)-(\d&#123;0,2&#125;)/,&apos;$3/$2/$1&apos;)</span><br><span class="line">输出：1/11/2017</span><br><span class="line">三个“()”将正则表示时分为三组，每组可以用$n来表示，n即在表达式中出现的次序。该表达式中的三组分别匹配到&quot;2017&quot;、&quot;11&quot;、&quot;1&quot;,该函数将匹配到的字符串用第二个参数替换。$3/$2/$1==&gt;2017/11/1</span><br></pre></td></tr></table></figure></td>
<td></td>
</tr>
<tr>
<td>## 前瞻</td>
<td></td>
</tr>
<tr>
<td>前瞻即将匹配到的字符串再向前观察是否也符合所定义的规则,例如校验数字前是否带有“￥”，我们可以使用这个正则表达式：</td>
<td></td>
</tr>
<tr>
<td><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\d&#123;0,&#125;(?=￥)</span><br></pre></td></tr></table></figure></td>
<td></td>
</tr>
<tr>
<td>名称</td>
<td>规则</td>
</tr>
<tr>
<td>—</td>
<td>—</td>
</tr>
<tr>
<td>正向前瞻</td>
<td>exp(?=assert)</td>
</tr>
<tr>
<td>反向前瞻</td>
<td>exp(?!assert)</td>
</tr>
<tr>
<td>正向后顾</td>
<td>exp(?&lt;=assert)</td>
</tr>
<tr>
<td>反向后顾</td>
<td>exp(?&lt;=!assert)</td>
</tr>
<tr>
<td># RegExp对象</td>
<td></td>
</tr>
<tr>
<td>简而言之，正则表达式就是对比校验字符串是否符合某种规则。</td>
<td></td>
</tr>
</tbody></table>
<p>RegExp作为JavaScript的内置对象表示JavaScript对正则表达式有着原生的支持。</p>
<h2 id="创建对象"><a href="#创建对象" class="headerlink" title="创建对象"></a>创建对象</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1.使用构造函数</span><br><span class="line">var reg = new RegExp(&apos;\\bimjianjian\\b&apos;,&apos;g&apos;);</span><br><span class="line">2.字面量方式</span><br><span class="line">var reg = /\bimjianjian\b/g</span><br></pre></td></tr></table></figure>
<p>以上两种方式都能创建js正则表达式对象，都是校验字符串中是否含有 imjianjian 这个单词，\b表示单词边界。且两种方式中都使用了修饰符，构造函数用第二个参数来传入，而字面量则直接写在表达式后。修饰符一共如下三种：</p>
<ul>
<li>g。global全文搜索，不写则只匹配字符串中的第一个</li>
<li>i。ignore case,忽略大小写，不写则大小写敏感</li>
<li>m。mutiple lines，多行搜索，不写则只搜索第一行</li>
</ul>
<h2 id="对象属性"><a href="#对象属性" class="headerlink" title="对象属性"></a>对象属性</h2><ul>
<li>global:是否全文搜索，默认false</li>
<li>ignoreCase:是否大小写敏感，默认false</li>
<li>multiline:多行搜索，默认false</li>
<li>lastIndex:当前表达式匹配内容的最后一个字符的下一个位置</li>
<li>source:正则表达式的文本字符串</li>
</ul>
<h2 id="对象方法"><a href="#对象方法" class="headerlink" title="对象方法"></a>对象方法</h2><h3 id="test-string"><a href="#test-string" class="headerlink" title="test(string)"></a>test(string)</h3><p>test() 方法检索字符串中的指定值。返回值是 true 或 false。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/\bam\b/.test(&apos;i am jianjian&apos;) //true</span><br><span class="line">/\bam\b/.test(&apos;he is jianjian&apos;) //false</span><br></pre></td></tr></table></figure>
<h3 id="exec-string"><a href="#exec-string" class="headerlink" title="exec(string)"></a>exec(string)</h3><p>exec() 方法检索字符串中的指定值。返回值是被找到的值。如果没有发现匹配，则返回 null。</p>
<p>如果需要找到所有某个字符的所有存在，在找到第一个匹配的字符后，将存储其位置。如果再次运行 exec()，则从存储的位置开始检索，并找到下一个匹配字符，并存储其位置。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">var str = &quot;this is jianjian&quot;; </span><br><span class="line">var reg = new RegExp(&quot;is&quot;,&quot;g&quot;);</span><br><span class="line">var result;</span><br><span class="line"></span><br><span class="line">while ((result = reg.exec(str)) != null)  &#123;</span><br><span class="line">  console.log(result);</span><br><span class="line">  console.log(reg.lastIndex);</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<h3 id="conpile-regexp-modifier"><a href="#conpile-regexp-modifier" class="headerlink" title="conpile(regexp,modifier)"></a>conpile(regexp,modifier)</h3><p>compile() 既可以改变检索模式，也可以添加或删除第二个参数。即更改匹配规则。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">reg=/man/g;</span><br><span class="line">reg2=/(wo)?man/g;</span><br><span class="line">reg.compile(reg2,&apos;i&apos;);//将匹配规则改为reg2,且大小写不敏感</span><br></pre></td></tr></table></figure>

<h2 id="string对象中支持使用正则表达式的方法"><a href="#string对象中支持使用正则表达式的方法" class="headerlink" title="string对象中支持使用正则表达式的方法"></a>string对象中支持使用正则表达式的方法</h2><h3 id="search-reg"><a href="#search-reg" class="headerlink" title="search(reg)"></a>search(reg)</h3><p>检索与正则表达式相匹配的值。返回第一个与 regexp 相匹配的子串的起始位置。如果没有找到任何匹配的子串，则返回 -1。search() 方法不执行全局匹配，它将忽略标志 g。它同时忽略 regexp 的 lastIndex 属性，并且总是从字符串的开始进行检索，这意味着它总是返回 stringObject 的第一个匹配的位置。</p>
<h3 id="match-reg-str"><a href="#match-reg-str" class="headerlink" title="match(reg|str)"></a>match(reg|str)</h3><p>找到一个或多个正则表达式的匹配。返回存放匹配结果的数组。该数组的内容依赖于 regexp 是否具有全局标志 g。</p>
<h3 id="replace-reg-replacement"><a href="#replace-reg-replacement" class="headerlink" title="replace(reg,replacement)"></a>replace(reg,replacement)</h3><ul>
<li>reg:正则表达式</li>
<li>replacement：替换字符</li>
</ul>
<p>替换与正则表达式匹配的子串。返回一个新的字符串，是用 replacement 替换了 regexp 的第一次匹配或所有匹配之后得到的。</p>
<h3 id="split-reg-howmany"><a href="#split-reg-howmany" class="headerlink" title="split(reg,howmany)"></a>split(reg,howmany)</h3><ul>
<li>reg:正则表达式</li>
<li>howmany：返回数组最大长度</li>
</ul>
<p>按照匹配到的字符作为切割点。返回切割后的数组。</p>

        </div>

        
            <section class="post-copyright">
                
                    <p class="copyright-item">
                        <span>Author:</span>
                        <span>jianjian</span>
                    </p>
                
                
                    <p class="copyright-item">
                        <span>Permalink:</span>
                        <span><a href="http://yoursite.com/2018/01/15/JavaScript%E4%B8%8E%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/">http://yoursite.com/2018/01/15/JavaScript%E4%B8%8E%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/</a></span>
                    </p>
                
                
                    <p class="copyright-item">
                        <span>License:</span>
                        <span>Copyright (c) 2019 <a href="http://creativecommons.org/licenses/by-nc/4.0/" target="_blank" rel="noopener">CC-BY-NC-4.0</a> LICENSE</span>
                    </p>
                
                
                     <p class="copyright-item">
                         <span>Slogan:</span>
                         <span>Do you believe in <strong>DESTINY<strong>?</span>
                     </p>
                

            </section>
        
        <section class="post-tags">
            <div>
                <span>Tag(s):</span>
                <span class="tag">
                    
                    
                        <a href="/tags/JavaScript/"># JavaScript</a>
                    
                        
                </span>
            </div>
            <div>
                <a href="javascript:window.history.back();" target="_blank" rel="noopener">back</a>
                <span>· </span>
                <a href="/">home</a>
            </div>
        </section>
        <section class="post-nav">
            
                <a class="prev" rel="prev" href="/2018/01/25/%E9%9B%B6%E9%85%8D%E7%BD%AE%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7%EF%BC%9Aparcel/">零配置构建工具：parcel</a>
            
            
            <a class="next" rel="next" href="/2018/01/14/Grunt%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/">Grunt快速入门</a>
            
        </section>


    </article>
</div>

        </div>
        <footer id="footer" class="footer">
    <div class="copyright">
        <span>© jianjian | Powered by <a href="https://hexo.io" target="_blank">Hexo</a> & <a href="https://github.com/Siricee/hexo-theme-Chic" target="_blank">Chic</a></span>
    </div>
</footer>

    </div>
</body>
</html>
