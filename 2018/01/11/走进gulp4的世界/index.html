<!DOCTYPE html><html><head><meta charset=UTF-8><meta name=viewport content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"><meta http-equiv=X-UA-Compatible content="ie=edge"><meta name=author content=jianjian><title>走进gulp4的世界 | imjianjian</title><link rel=icon href=/favicon.ico><link rel=stylesheet href=/css/style.css><script src=/js/script.js></script><script src=/js/tocbot.min.js></script></head><body><div class=wrapper><header><nav class=navbar><div class=container><div class="navbar-header header-logo"><a href="/">imjianjian&#39;s Blog</a></div><div class="menu navbar-right"><a class=menu-item href=/archives>Posts</a> <a class=menu-item href=/tags>Tags</a> <input id=switch_default type=checkbox class=switch_default><label for=switch_default class=toggleBtn></label></div></div></nav><nav class=navbar-mobile id=nav-mobile><div class=container><div class=navbar-header><div><a href="/">imjianjian&#39;s Blog</a><a id=mobile-toggle-theme>·&nbsp;Light</a></div><div class=menu-toggle onclick=mobileBtn()>&#9776; Menu</div></div><div class=menu id=mobile-menu><a class=menu-item href=/archives>Posts</a> <a class=menu-item href=/tags>Tags</a></div></div></nav></header><script>
    var mobileBtn = function f() {
        var toggleMenu = document.getElementsByClassName("menu-toggle")[0];
        var mobileMenu = document.getElementById("mobile-menu");
        if(toggleMenu.classList.contains("active")){
           toggleMenu.classList.remove("active")
            mobileMenu.classList.remove("active")
        }else{
            toggleMenu.classList.add("active")
            mobileMenu.classList.add("active")
        }
    }
</script><div class=main><div class=container><div class=post-toc><div class=tocbot-list></div><div class=tocbot-list-menu><a class=tocbot-toc-expand onclick=expand_toc()>Expand all</a> <a onclick=go_top()>Back to top</a> <a onclick=go_bottom()>Go to bottom</a></div></div><script>
    document.ready(
        function () {
            tocbot.init({
                tocSelector: '.tocbot-list',
                contentSelector: '.post-content',
                headingSelector: 'h1, h2, h3, h4, h5',
                collapseDepth: 1,
                orderedList: false,
                scrollSmooth: true,
            })
        }
    )

    function expand_toc() {
        var b = document.querySelector(".tocbot-toc-expand");
        tocbot.init({
            tocSelector: '.tocbot-list',
            contentSelector: '.post-content',
            headingSelector: 'h1, h2, h3, h4, h5',
            collapseDepth: 6,
            orderedList: false,
            scrollSmooth: true,
        });
        b.setAttribute("onclick", "collapse_toc()");
        b.innerHTML = "Collapse all"
    }

    function collapse_toc() {
        var b = document.querySelector(".tocbot-toc-expand");
        tocbot.init({
            tocSelector: '.tocbot-list',
            contentSelector: '.post-content',
            headingSelector: 'h1, h2, h3, h4, h5',
            collapseDepth: 1,
            orderedList: false,
            scrollSmooth: true,
        });
        b.setAttribute("onclick", "expand_toc()");
        b.innerHTML = "Expand all"
    }

    function go_top() {
        window.scrollTo(0, 0);
    }

    function go_bottom() {
        window.scrollTo(0, document.body.scrollHeight);
    }

</script><article class=post-wrap><header class=post-header><h1 class=post-title>走进gulp4的世界</h1><div class=post-meta>Author: <a itemprop=author rel=author href="/">jianjian</a> <span class=post-time>Date: <a href=#>January 11, 2018&nbsp;&nbsp;20:31:02</a></span></div></header><div class=post-content><h1 id=gulp简介><a href=#gulp简介 class=headerlink title=gulp简介></a>gulp简介</h1><ul><li>自动化 - gulp是一个工具包，可帮助您在开发工作流程中自动执行痛苦或耗时的任务。</li><li>与平台无关 - 集成被集成到所有主流IDE中，人们正在使用PHP，.NET，Node.js，Java和其他平台。</li><li>强大的生态系统 - 使用npm模块做任何你想要的，拥有超过2000个插件进行流文件转换。</li><li>简单 - 仅提供最少的API，易于学习和使用简单。<br>用gulp对自己的描述就是：Automate and enhance your workflow。</li></ul><h1 id=安装><a href=#安装 class=headerlink title=安装></a>安装</h1><p>要使用gulp要保证你的电脑上要有node环境</p><p>官方建议你这么安装它</p><figure class="highlight plain"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br></pre></td><td class=code><pre><span class=line>//全局安装gulp命令行</span><br><span class=line>$ npm install gulp-cli -g</span><br><span class=line></span><br><span class=line>//gulp4.0</span><br><span class=line>$ npm install gulp@next -D</span><br><span class=line></span><br><span class=line>//gulp3.9.1</span><br><span class=line>$ npm install gulp -D </span><br><span class=line></span><br><span class=line>//创建gulpfile.js文件</span><br><span class=line>$ touch gulpfile.js</span><br><span class=line>$ gulp --help</span><br></pre></td></tr></table></figure><h1 id=更新><a href=#更新 class=headerlink title=更新></a>更新</h1><ul><li>新的任务系统（基于 bach，替换掉了原先基于 orchestrator 的任务系统）</li><li>移除 gulp.reset</li><li>gulp.task 不再支持三个参数的用法</li><li>gulp.task 用字符串注册的任务必须是直接在命令行中调用的任务</li><li>gulp.task 可以接受单参数语法，这个参数必须是一个命名函数，函数名会被作为任务名</li><li>添加了 gulp.series 和 gulp.parallel 方法用于组合任务</li><li>添加了 gulp.tree 方法用于获取任务树，传入 { deep: true } 参数可以得到一个 archy 兼容的节点列表</li><li>添加了 gulp.registry 方法以定制注册表。</li><li>添加了 gulp.symlink 方法，功能和 gulp.dest 一致，不过是以软链接的方式</li><li>gulp.dest 和 gulp.symlink 方法添加了 dirMode 参数允许对目标目录更好地控制</li><li>gulp.src 接收的文件匹配字符串会顺序解释，所以你可以写成这样 gulp.src([‘<em>.js’, ‘!b</em>.js’, ‘bad.js’])（排除所有以 b 开头的 JS 文件但是除了 bad.js）</li><li>gulp.src 方法添加了 since 选项，筛选在特定时间点之后修改过的文件（用于增量编译）</li><li>将命令行分离出来成为一个独立模块，以便节约带宽/空间。用 npm install gulp -g 或 npm install gulp-cli -g 都可以安装命令行，只是 gulp-cli 不包含模块代码所以比较小</li><li>命令行添加了 –tasks-json 参数，可以导出整个任务树以供他用</li><li>命令行添加了 –verify 参数用以检查 package.json 中是否包含黑名单插件（违背准则而被禁入官方插件列表的可怜娃们）。</li></ul><h1 id=API><a href=#API class=headerlink title=API></a>API</h1><p>gulp4在gulp3的基础上新增了几个函数，但它的使用依旧简单方便。一共如下10个：</p><ul><li>gulp.src() –全局匹配一个或多个文件</li><li>gulp.dest() –将文件写入目录</li><li>gulp.symlink() –与dest相似，但是使用软连接形式</li><li>gulp.task() –定义任务</li><li>gulp.lastRun() –获得上次成功运行的时间戳</li><li>gulp.parallel() –并行运行任务</li><li>gulp.series() –运行任务序列</li><li>gulp.watch() –当文件发生变化时做某些操作</li><li>gulp.tree() –获得任务书树</li><li>gulp.registry() –获得或注册任务</li></ul><p>官方说明API说明:<a href=https://github.com/gulpjs/gulp/blob/master/docs/API.md target=_blank rel=noopener>https://github.com/gulpjs/gulp/blob/master/docs/API.md</a></p><h1 id=task-parallel-and-series><a href=#task-parallel-and-series class=headerlink title="task(parallel and series)"></a>task(parallel and series)</h1><p>gulp4不再能够通过数组形式传入任务，你需要使用gulp.series()和gulp.parallel()来执行他们。例如：</p><figure class="highlight plain"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br></pre></td><td class=code><pre><span class=line>gulp.task(&apos;default&apos;,gulp.parallel(&apos;taskA&apos;,&apos;taskB&apos;));//并行执行</span><br><span class=line>gulp.task(&apos;default&apos;,gulp.series(&apos;taskA&apos;,&apos;taskB&apos;));//按顺序执行</span><br></pre></td></tr></table></figure><p>parallel和series函数可以接受函数作为参数，这意味着我们可以将任务用独立函数表示：</p><figure class="highlight plain"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br></pre></td><td class=code><pre><span class=line>funcion taskA()&#123;...&#125;</span><br><span class=line>funcion taskB()&#123;...&#125;</span><br><span class=line></span><br><span class=line>gulp.task(taskA);//最简单的方式</span><br><span class=line>gulp.task(&apos;i-am-taskB&apos;,taskB);//为taskB添加任务名</span><br><span class=line>gulp.task(&apos;taskA-taskB&apos;, gulp.series(taskA, taskB));//序列执行</span><br><span class=line>gulp.task(&apos;taskA-taskB&apos;, gulp.parallel(taskA，taskB));//并行运行</span><br></pre></td></tr></table></figure><p>而且当我们执行序列化任务时，面板的输出也更加清晰</p><figure class="highlight plain"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br></pre></td><td class=code><pre><span class=line>PS D:\github\resume&gt; gulp</span><br><span class=line>[21:49:59] Using gulpfile D:\project\gulpfile.js</span><br><span class=line>[21:49:59] Starting &apos;default&apos;...</span><br><span class=line>[21:49:59] Starting &apos;copyfile&apos;...</span><br><span class=line>[21:49:59] Finished &apos;copyfile&apos; after 90 ms</span><br><span class=line>[21:49:59] Starting &apos;minifyhtml&apos;...</span><br><span class=line>[21:49:59] Finished &apos;minifyhtml&apos; after 171 ms</span><br><span class=line>[21:49:59] Starting &apos;minifyCSS&apos;...</span><br><span class=line>[21:50:00] Finished &apos;minifyCSS&apos; after 353 ms</span><br><span class=line>[21:50:00] Starting &apos;uglyfyJS&apos;...</span><br><span class=line>[21:50:01] Finished &apos;uglyfyJS&apos; after 1.43 s</span><br><span class=line>[21:50:01] Finished &apos;default&apos; after 2.05 s</span><br></pre></td></tr></table></figure><h1 id=gulp-lastRun><a href=#gulp-lastRun class=headerlink title=gulp.lastRun()></a>gulp.lastRun()</h1><figure class="highlight plain"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br></pre></td><td class=code><pre><span class=line>语法：</span><br><span class=line>gulp.lastRun(taskName,timeResolution)</span><br><span class=line>参数：</span><br><span class=line>taskName:任务名</span><br><span class=line>timeResolution（可选）:返回的时间戳的精度</span><br></pre></td></tr></table></figure><p>例如</p><figure class="highlight plain"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br></pre></td><td class=code><pre><span class=line>gulp.lastRun(&apos;someTask&apos;, 1000) // 1426000004000.</span><br><span class=line>gulp.lastRun(&apos;someTask&apos;, 100) // 1426000004300.</span><br></pre></td></tr></table></figure><h1 id=gulp-tree><a href=#gulp-tree class=headerlink title=gulp.tree()></a>gulp.tree()</h1><figure class="highlight plain"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br></pre></td><td class=code><pre><span class=line>语法:</span><br><span class=line>gulp.tree(option)</span><br><span class=line>options：</span><br><span class=line>&#123;</span><br><span class=line>    deep:true/false //是否遍历每个子任务</span><br><span class=line>&#125;</span><br></pre></td></tr></table></figure><p>示例gulpfile.js</p><figure class="highlight plain"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br></pre></td><td class=code><pre><span class=line>gulp.task(&apos;one&apos;, function(done) &#123;</span><br><span class=line>  // do stuff</span><br><span class=line>  done();</span><br><span class=line>&#125;);</span><br><span class=line></span><br><span class=line>gulp.task(&apos;two&apos;, function(done) &#123;</span><br><span class=line>  // do stuff</span><br><span class=line>  done();</span><br><span class=line>&#125;);</span><br><span class=line></span><br><span class=line>gulp.task(&apos;three&apos;, function(done) &#123;</span><br><span class=line>  // do stuff</span><br><span class=line>  done();</span><br><span class=line>&#125;);</span><br><span class=line></span><br><span class=line>gulp.task(&apos;four&apos;, gulp.series(&apos;one&apos;, &apos;two&apos;));</span><br><span class=line></span><br><span class=line>gulp.task(&apos;five&apos;,</span><br><span class=line>  gulp.series(&apos;four&apos;,</span><br><span class=line>    gulp.parallel(&apos;three&apos;, function(done) &#123;</span><br><span class=line>      // do more stuff</span><br><span class=line>      done();</span><br><span class=line>    &#125;)</span><br><span class=line>  )</span><br><span class=line>);</span><br></pre></td></tr></table></figure><p>实例输出</p><figure class="highlight plain"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br><span class=line>49</span><br><span class=line>50</span><br><span class=line>51</span><br><span class=line>52</span><br><span class=line>53</span><br><span class=line>54</span><br><span class=line>55</span><br><span class=line>56</span><br><span class=line>57</span><br><span class=line>58</span><br><span class=line>59</span><br><span class=line>60</span><br><span class=line>61</span><br><span class=line>62</span><br><span class=line>63</span><br><span class=line>64</span><br><span class=line>65</span><br><span class=line>66</span><br><span class=line>67</span><br><span class=line>68</span><br><span class=line>69</span><br><span class=line>70</span><br><span class=line>71</span><br><span class=line>72</span><br><span class=line>73</span><br><span class=line>74</span><br><span class=line>75</span><br><span class=line>76</span><br><span class=line>77</span><br><span class=line>78</span><br><span class=line>79</span><br><span class=line>80</span><br><span class=line>81</span><br><span class=line>82</span><br><span class=line>83</span><br><span class=line>84</span><br><span class=line>85</span><br><span class=line>86</span><br><span class=line>87</span><br><span class=line>88</span><br><span class=line>89</span><br><span class=line>90</span><br><span class=line>91</span><br><span class=line>92</span><br><span class=line>93</span><br><span class=line>94</span><br><span class=line>95</span><br><span class=line>96</span><br></pre></td><td class=code><pre><span class=line>gulp.tree()</span><br><span class=line></span><br><span class=line>// output: [ &apos;one&apos;, &apos;two&apos;, &apos;three&apos;, &apos;four&apos;, &apos;five&apos; ]</span><br><span class=line></span><br><span class=line>gulp.tree(&#123; deep: true &#125;)</span><br><span class=line></span><br><span class=line>/*output: [</span><br><span class=line>   &#123;</span><br><span class=line>      &quot;label&quot;:&quot;one&quot;,</span><br><span class=line>      &quot;type&quot;:&quot;task&quot;,</span><br><span class=line>      &quot;nodes&quot;:[]</span><br><span class=line>   &#125;,</span><br><span class=line>   &#123;</span><br><span class=line>      &quot;label&quot;:&quot;two&quot;,</span><br><span class=line>      &quot;type&quot;:&quot;task&quot;,</span><br><span class=line>      &quot;nodes&quot;:[]</span><br><span class=line>   &#125;,</span><br><span class=line>   &#123;</span><br><span class=line>      &quot;label&quot;:&quot;three&quot;,</span><br><span class=line>      &quot;type&quot;:&quot;task&quot;,</span><br><span class=line>      &quot;nodes&quot;:[]</span><br><span class=line>   &#125;,</span><br><span class=line>   &#123;</span><br><span class=line>      &quot;label&quot;:&quot;four&quot;,</span><br><span class=line>      &quot;type&quot;:&quot;task&quot;,</span><br><span class=line>      &quot;nodes&quot;:[</span><br><span class=line>          &#123;</span><br><span class=line>            &quot;label&quot;:&quot;&lt;series&gt;&quot;,</span><br><span class=line>            &quot;type&quot;:&quot;function&quot;,</span><br><span class=line>            &quot;nodes&quot;:[</span><br><span class=line>               &#123;</span><br><span class=line>                  &quot;label&quot;:&quot;one&quot;,</span><br><span class=line>                  &quot;type&quot;:&quot;task&quot;,</span><br><span class=line>                  &quot;nodes&quot;:[]</span><br><span class=line>               &#125;,</span><br><span class=line>               &#123;</span><br><span class=line>                  &quot;label&quot;:&quot;two&quot;,</span><br><span class=line>                  &quot;type&quot;:&quot;task&quot;,</span><br><span class=line>                  &quot;nodes&quot;:[]</span><br><span class=line>               &#125;</span><br><span class=line>            ]</span><br><span class=line>         &#125;</span><br><span class=line>      ]</span><br><span class=line>   &#125;,</span><br><span class=line>   &#123;</span><br><span class=line>      &quot;label&quot;:&quot;five&quot;,</span><br><span class=line>      &quot;type&quot;:&quot;task&quot;,</span><br><span class=line>      &quot;nodes&quot;:[</span><br><span class=line>         &#123;</span><br><span class=line>            &quot;label&quot;:&quot;&lt;series&gt;&quot;,</span><br><span class=line>            &quot;type&quot;:&quot;function&quot;,</span><br><span class=line>            &quot;nodes&quot;:[</span><br><span class=line>               &#123;</span><br><span class=line>                  &quot;label&quot;:&quot;four&quot;,</span><br><span class=line>                  &quot;type&quot;:&quot;task&quot;,</span><br><span class=line>                  &quot;nodes&quot;:[</span><br><span class=line>                     &#123;</span><br><span class=line>                        &quot;label&quot;:&quot;&lt;series&gt;&quot;,</span><br><span class=line>                        &quot;type&quot;:&quot;function&quot;,</span><br><span class=line>                        &quot;nodes&quot;:[</span><br><span class=line>                           &#123;</span><br><span class=line>                              &quot;label&quot;:&quot;one&quot;,</span><br><span class=line>                              &quot;type&quot;:&quot;task&quot;,</span><br><span class=line>                              &quot;nodes&quot;:[]</span><br><span class=line>                           &#125;,</span><br><span class=line>                           &#123;</span><br><span class=line>                              &quot;label&quot;:&quot;two&quot;,</span><br><span class=line>                              &quot;type&quot;:&quot;task&quot;,</span><br><span class=line>                              &quot;nodes&quot;:[]</span><br><span class=line>                           &#125;</span><br><span class=line>                        ]</span><br><span class=line>                     &#125;</span><br><span class=line>                  ]</span><br><span class=line>               &#125;,</span><br><span class=line>               &#123;</span><br><span class=line>                  &quot;label&quot;:&quot;&lt;parallel&gt;&quot;,</span><br><span class=line>                  &quot;type&quot;:&quot;function&quot;,</span><br><span class=line>                  &quot;nodes&quot;:[</span><br><span class=line>                     &#123;</span><br><span class=line>                        &quot;label&quot;:&quot;three&quot;,</span><br><span class=line>                        &quot;type&quot;:&quot;task&quot;,</span><br><span class=line>                        &quot;nodes&quot;:[]</span><br><span class=line>                     &#125;,</span><br><span class=line>                     &#123;</span><br><span class=line>                        &quot;label&quot;:&quot;&lt;anonymous&gt;&quot;,</span><br><span class=line>                        &quot;type&quot;:&quot;function&quot;,</span><br><span class=line>                        &quot;nodes&quot;:[]</span><br><span class=line>                     &#125;</span><br><span class=line>                  ]</span><br><span class=line>               &#125;</span><br><span class=line>            ]</span><br><span class=line>         &#125;</span><br><span class=line>      ]</span><br><span class=line>   &#125;</span><br><span class=line>]</span><br><span class=line>*/</span><br></pre></td></tr></table></figure><h1 id=gulp-load-plugins><a href=#gulp-load-plugins class=headerlink title=gulp-load-plugins></a>gulp-load-plugins</h1><p>这是一个用于自动加载插件的gulp插件，安装如下：</p><figure class="highlight plain"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre></td><td class=code><pre><span class=line>npm install gulp-load-plugins -D</span><br></pre></td></tr></table></figure><p>当一个项目需要很多插件来管理的时候，你的gulpfile.js可能会变成这样：</p><figure class="highlight plain"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br></pre></td><td class=code><pre><span class=line>var gulp = require(&apos;gulp&apos;),</span><br><span class=line>    a = require(&apos;gulp-a&apos;), </span><br><span class=line>    b = require(&apos;gulp-b&apos;),</span><br><span class=line>    c = require(&apos;gulp-c&apos;),</span><br><span class=line>    ...</span><br><span class=line>    ...</span><br><span class=line>    z = require(&apos;gulp-z&apos;);</span><br></pre></td></tr></table></figure><p>使用gulp-load-plugins可以让你少写一些重复代码，你可以这样使用：</p><figure class="highlight plain"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br></pre></td><td class=code><pre><span class=line>var gulp = require(&apos;gulp&apos;);</span><br><span class=line>//加载gulp-load-plugins插件，并马上运行它</span><br><span class=line>var plugins = require(&apos;gulp-load-plugins&apos;)();</span><br><span class=line>//或是：</span><br><span class=line>//var gulpLoadPlugins = require(&apos;gulp-load-plugins&apos;);</span><br><span class=line>//var plugins = gulpLoadPlugins();</span><br></pre></td></tr></table></figure><p>调用插件</p><figure class="highlight plain"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre></td><td class=code><pre><span class=line>plugins.clone() //等价于require(&apos;gulp-clone&apos;)();</span><br></pre></td></tr></table></figure><p>实质上是gulp帮助我们做了如下操作</p><figure class="highlight plain"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre></td><td class=code><pre><span class=line>plugins.clone= require(‘gulp-clone’);</span><br></pre></td></tr></table></figure></div><section class=post-copyright><p class=copyright-item><span>Author:</span> <span>jianjian</span></p><p class=copyright-item><span>Permalink:</span> <span><a href="http://yoursite.com/2018/01/11/%E8%B5%B0%E8%BF%9Bgulp4%E7%9A%84%E4%B8%96%E7%95%8C/">http://yoursite.com/2018/01/11/%E8%B5%B0%E8%BF%9Bgulp4%E7%9A%84%E4%B8%96%E7%95%8C/</a></span></p><p class=copyright-item><span>License:</span> <span>Copyright (c) 2019 <a href="http://creativecommons.org/licenses/by-nc/4.0/" target=_blank rel=noopener>CC-BY-NC-4.0</a> LICENSE</span></p><p class=copyright-item><span>Slogan:</span> <span>Do you believe in <strong>DESTINY<strong>?</strong></strong></span></p></section><section class=post-tags><div><span>Tag(s):</span> <span class=tag><a href="/tags/%E5%89%8D%E7%AB%AF%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7/"># 前端构建工具</a></span></div><div><a href=javascript:window.history.back(); target=_blank rel=noopener>back</a> <span>·</span> <a href="/">home</a></div></section><section class=post-nav><a class=prev rel=prev href="/2018/01/14/Grunt%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/">Grunt快速入门</a> <a class=next rel=next href="/2018/01/02/MongoDB%E5%A4%87%E4%BB%BD%E4%B8%8E%E6%81%A2%E5%A4%8D/">MongoDB备份与恢复</a></section></article></div></div><footer id=footer class=footer><div class=copyright><span>© jianjian | Powered by <a href=https://hexo.io target=_blank>Hexo</a> & <a href=https://github.com/Siricee/hexo-theme-Chic target=_blank>Chic</a></span></div></footer></div></body></html>